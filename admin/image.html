<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Arctic Fashion | Image upload</title>
        <link rel="preconnect" href="https://fonts.googleapis.com"> 
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600&family=Roboto+Mono:wght@300;500&display=swap" rel="stylesheet">
        <link href="../css/style.css" rel="stylesheet" />
        <script src="https://kit.fontawesome.com/1abcb9173a.js" crossorigin="anonymous"></script>
    </head>
    <body class="dashboard">

        <header></header>

        <main>

            <section class="container p-4">

                <h2 class="mt-4 mt-md-5 pt-3 mb-3">Image upload</h2>

                <hr class="mb-4" />

                        <form class="border-grey rounded p-4 col-12 col-md-8 mx-auto">

                            <div class="mb-4 d-grid gap-2 d-flex">
                                <a href="dashboard.html" class="btn btn-outline-dark"><i class="fas fa-arrow-left me-2"></i>Go Back</a>
                              </div>

                            <div class="message-container"></div>

                            <button id="upload_widget" class="cloudinary-button">Upload files</button>
                            
                            <!-- placeholder for uploaded image -->
                            <img id="uploadedimage" src=""></img> 

                        </form>

            </section>

        </main>

        <footer class="footer--bottom">
            <div class="copyright__container text-center bg-light p-3 border">
              <p class="p-0 m-0 pb-2 pb-md-0">Â© 2022 Copyright Arctic Fashion</p>
            </div>
        </footer>

        <script src="../js/image.js" type="module"></script>

        <script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>

        <script type="text/javascript">  
            var myWidget = cloudinary.createUploadWidget({
              cloudName: 'dp0fgdpbe', 
              uploadPreset: 'hm2vsltr'}, (error, result) => { 
                if (!error && result && result.event === "success") { 
                  console.log('Done! Here is the image info: ', result.info); 
                }
              }
            )
            
            document.getElementById("upload_widget").addEventListener("click", function(){
                myWidget.open();
              }, false);
            </script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    </body>
</html>